{% extends "base.html" %}
{% load tasks_filters %}
{% block title %}
  {{ title }}
{% endblock %}
  {% block content %}
  <div class="container mt-5">
    <h1 class="text-center mb-4">Авторизация</h1>

    <form method="post" class="needs-validation" novalidate>
      {% csrf_token %}
      <input type="hidden" name="next" value="{{ next }}" />

      <!-- Общие ошибки формы -->
      {% if form.non_field_errors %}
        <div class="alert alert-danger">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      {% for f in form %}
        <div class="mb-4">
          <label for="{{ f.id_for_label }}" class="form-label">
            {{ f.label }}
          </label>
          {{ f|add_class:"form-control fs-3 fw-bold" }}
          
          {% if f.errors %}
            <div class="text-danger small mb-1">
              {{ f.errors }}
            </div>
          {% endif %}
        </div>
      {% endfor %}
      
      <div class="d-grid">
        <button type="submit" class="btn btn-primary btn-lg fs-3 mt-4">
          Войти
        </button>
      </div>
    </form>
    <hr>
    <p class="mt-3">
      <a href="{% url "users:password_reset" %}" class="fw-bold fs-4 text-decoration-none text-primary">Забыли пароль?</a>
    </p>
  </div>
{% endblock %}